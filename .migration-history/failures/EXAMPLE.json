{
  "program_id": 237,
  "program_name": "Vente GP",
  "failed_at": "2026-02-24T15:30:00.000Z",
  "phase": "VERIFY",
  "error": "Expression coverage below threshold: expected 100%, got 85%",
  "error_code": "ERR_COVERAGE_LOW",
  "details": {
    "expected_coverage": 100,
    "actual_coverage": 85,
    "missing_expressions": [
      {
        "expr_id": "Prg_237:Task_5:Line_12:Expr_30",
        "formula": "IF({0,3}='E',Msg('Error'),Update(operation,A,{1,3}))",
        "rule_id": "RM-005"
      },
      {
        "expr_id": "Prg_237:Task_7:Line_8:Expr_15",
        "formula": "W0 fin tache [V]='F'",
        "rule_id": "RM-012"
      }
    ],
    "stack_trace": "Error: Coverage verification failed\n    at verifyExpressionCoverage (verify-expression-coverage.ts:125)\n    at runVerificationPhase (pipeline-runner.ts:88)\n    at runBatchPipeline (pipeline-runner.ts:45)",
    "context": {
      "contract_file": ".openspec/migration/ADH/ADH-IDE-237.contract.yaml",
      "output_dir": "../adh-web/src",
      "batch_id": "B2",
      "attempt": 1,
      "correlation_id": "mig_237_20260224_1530"
    }
  },
  "resolution": {
    "action": "Added missing tests for 2 uncovered expressions",
    "test_files_added": [
      "adh-web/src/__tests__/venteStore.test.ts:42",
      "adh-web/src/__tests__/venteStore.test.ts:68"
    ],
    "code_changes": [
      "adh-web/src/stores/venteStore.ts:125 - mapped Expr_30",
      "adh-web/src/stores/venteStore.ts:188 - mapped Expr_15"
    ],
    "resolved_at": "2026-02-24T16:00:00.000Z",
    "resolved_by": "John Doe",
    "resolution_time_minutes": 30,
    "commit": "abc123def456789",
    "verification_passed": true
  },
  "lessons_learned": [
    "Always run expression coverage check BEFORE marking contract as verified",
    "Add pre-verify hook to catch coverage issues earlier",
    "Consider adding coverage gates at 80%/90%/100% with different alerts"
  ],
  "tags": [
    "coverage",
    "testing",
    "verify-phase",
    "batch-b2"
  ],
  "related_patterns": [
    "if-error-then-msg.yaml",
    "task-end-flag-check.yaml"
  ],
  "metrics": {
    "total_expressions": 15,
    "missing_before": 2,
    "tests_added": 2,
    "coverage_before": 85,
    "coverage_after": 100
  }
}
