{
  "domain": "saisieContenuCaisse",
  "domainPascal": "SaisieContenuCaisse",
  "complexity": "LOW",
  "entities": [
    {
      "name": "ResortCredit",
      "fields": [
        {
          "name": "societe",
          "type": "string",
          "source": "parameter",
          "nullable": false
        },
        {
          "name": "compte",
          "type": "number",
          "source": "parameter",
          "nullable": false
        },
        {
          "name": "filiation",
          "type": "number",
          "source": "parameter",
          "nullable": false
        },
        {
          "name": "service",
          "type": "string",
          "source": "parameter",
          "nullable": true
        },
        {
          "name": "attribue",
          "type": "number",
          "source": "resort_credit.attribue",
          "nullable": false
        },
        {
          "name": "utilise",
          "type": "number",
          "source": "resort_credit.utilise",
          "nullable": false
        },
        {
          "name": "solde",
          "type": "number",
          "source": "calculated",
          "nullable": false
        }
      ]
    }
  ],
  "stateFields": [
    {
      "name": "soldeResortCredit",
      "type": "number | null",
      "default": "null"
    },
    {
      "name": "isLoading",
      "type": "boolean",
      "default": "false"
    },
    {
      "name": "error",
      "type": "string | null",
      "default": "null"
    },
    {
      "name": "currentAccount",
      "type": "{ societe: string; compte: number; filiation: number; service?: string } | null",
      "default": "null"
    }
  ],
  "actions": [
    {
      "name": "fetchSoldeResortCredit",
      "params": [
        "societe: string",
        "compte: number",
        "filiation: number",
        "service?: string"
      ],
      "businessRules": [
        "RM-001: Calculate solde as IF(attribue > utilise, attribue - utilise, 0)"
      ],
      "returns": "Promise<number>"
    },
    {
      "name": "calculateSolde",
      "params": [
        "attribue: number",
        "utilise: number"
      ],
      "businessRules": [
        "RM-001: Return (attribue - utilise) if attribue > utilise, otherwise return 0"
      ],
      "returns": "number"
    },
    {
      "name": "resetSolde",
      "params": [],
      "businessRules": [
        "Clear all state fields to initial values"
      ],
      "returns": "void"
    }
  ],
  "apiEndpoints": [
    {
      "method": "GET",
      "path": "/api/saisie-contenu-caisse/solde-resort-credit/{societe}/{compte}/{filiation}",
      "queryParams": [
        "service?"
      ],
      "response": "{ solde: number }"
    }
  ],
  "uiLayout": {
    "type": "display-field",
    "sections": [
      {
        "name": "ResortCreditDisplay",
        "controls": [
          "Text field showing solde resort credit amount",
          "Currency formatting (2 decimals)",
          "Read-only display",
          "Optional service filter selector"
        ]
      }
    ]
  },
  "mockData": {
    "count": 5,
    "description": "Mock resort credit records with varying balances: some fully consumed (solde=0), some partially used (solde>0), and some unused (solde=attribue). Includes different service types and account combinations."
  },
  "dependencies": {
    "stores": [
      "useSessionStore (for current account context)"
    ],
    "sharedTypes": [
      "ResortCredit (from types/saisieContenuCaisse.ts)"
    ],
    "externalApis": [
      "Resort Credit API endpoint"
    ]
  }
}