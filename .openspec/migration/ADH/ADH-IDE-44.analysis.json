{
  "domain": "programDispatch",
  "domainPascal": "ProgramDispatch",
  "complexity": "LOW",
  "entities": [],
  "stateFields": [
    {
      "name": "lastClickedControl",
      "type": "string | null",
      "default": "null"
    },
    {
      "name": "isDispatching",
      "type": "boolean",
      "default": "false"
    },
    {
      "name": "error",
      "type": "string | null",
      "default": "null"
    }
  ],
  "actions": [
    {
      "name": "dispatchToProgram",
      "params": [
        "controlId: string"
      ],
      "businessRules": [
        "Capture the last clicked control ID via LastClicked()",
        "Route to target program based on control key mapping",
        "Terminal program - no further downstream calls",
        "Single centralized dispatch logic for 21 callers"
      ],
      "returns": "Promise<void>"
    },
    {
      "name": "getLastClickedControl",
      "params": [],
      "businessRules": [
        "Retrieve the last clicked control identifier from UI context"
      ],
      "returns": "Promise<string | null>"
    },
    {
      "name": "clearDispatch",
      "params": [],
      "businessRules": [
        "Reset dispatch state after routing completes"
      ],
      "returns": "void"
    }
  ],
  "apiEndpoints": [
    {
      "method": "POST",
      "path": "/api/programDispatch/route",
      "queryParams": [
        "controlId"
      ],
      "response": "{ success: boolean, targetProgram?: string, error?: string }"
    },
    {
      "method": "GET",
      "path": "/api/programDispatch/lastClicked",
      "queryParams": [],
      "response": "{ controlId: string | null }"
    }
  ],
  "uiLayout": {
    "type": "headless",
    "sections": [],
    "description": "No visible UI - programmatic dispatch only"
  },
  "mockData": {
    "count": 0,
    "description": "No mock data required - routing logic is stateless"
  },
  "dependencies": {
    "stores": [],
    "sharedTypes": [],
    "externalApis": [],
    "notes": "Called by 21 programs (IDE 25, 40, 0, 111, 112, 168, 174, 217, 288, 317, 37, 69, 77, 86, 158, 163, 173, 190, 214, 242). Terminal program with no database access and no downstream calls."
  }
}