Generate a TypeScript types file for the "facturationAppel" domain.

RULES (MANDATORY):
- Use import aliases: @/ for src root (e.g. @/stores/..., @/types/...)
- NEVER use `any` type - use `unknown` or precise types
- Tailwind v4 classes for styling (no tailwind.config.js)
- Arrow functions everywhere (no function declarations)
- `as const` instead of TypeScript enum
- verbatimModuleSyntax is enabled: use `import type { X }` ONLY for types/interfaces, use `import { X }` for values/consts
- File must be COMPLETE and ready to write - NO placeholders, NO TODOs, NO "// implement here"
- NO comments except for genuinely complex logic
- Output ONLY the code inside a single markdown code block (```typescript ... ``` or ```tsx ... ```)

SHARED INFRASTRUCTURE (use these exact imports):
- Data source toggle: `import { useDataSourceStore } from "@/stores/dataSourceStore"` (has .getState().isRealApi)
- API client: `import { apiClient } from "@/services/api/apiClient"` and `import type { ApiResponse } from "@/services/api/apiClient"`
- Screen layout: `import { ScreenLayout } from "@/components/layout"` (wrapper with sidebar, takes children + className)
- UI components: `import { Button, Dialog, Input } from "@/components/ui"`
- cn utility: `import { cn } from "@/lib/utils"`

The file must export:
- An interface for each entity
- A State interface for the Zustand store
- Request/Response types for API endpoints
- Action types matching the store actions

ANALYSIS DOCUMENT:
{
  "domain": "facturationAppel",
  "domainPascal": "FacturationAppel",
  "complexity": "MEDIUM",
  "entities": [
    {
      "name": "HistoriqueAppel",
      "fields": [
        {
          "name": "societe",
          "type": "string",
          "source": "historique_pabx.societe",
          "nullable": false
        },
        {
          "name": "prefixe",
          "type": "string",
          "source": "historique_pabx.prefixe",
          "nullable": false
        },
        {
          "name": "dateAppel",
          "type": "Date",
          "source": "historique_pabx.date_appel",
          "nullable": false
        },
        {
          "name": "heureAppel",
          "type": "string",
          "source": "historique_pabx.heure_appel",
          "nullable": false
        },
        {
          "name": "numeroTel",
          "type": "string",
          "source": "historique_pabx.numero_tel",
          "nullable": false
        },
        {
          "name": "duree",
          "type": "string",
          "source": "historique_pabx.duree",
          "nullable": false
        },
        {
          "name": "montant",
          "type": "number",
          "source": "historique_pabx.montant",
          "nullable": false
        },
        {
          "name": "gratuit",
          "type": "boolean",
          "source": "historique_pabx.gratuite",
          "nullable": false
        },
        {
          "name": "raisonGratuite",
          "type": "string",
          "source": "historique_pabx.raison_gratuite",
          "nullable": true
        }
      ]
    },
    {
      "name": "CoefTelephone",
      "fields": [
        {
          "name": "qualite",
          "type": "string",
          "source": "coef__telephone__coe.qualite",
          "nullable": false
        },
        {
          "name": "coefficient",
          "type": "number",
          "source": "coef__telephone__coe.coeff_tel",
          "nullable": false
        }
      ]
    },
    {
      "name": "ReseauCloture",
      "fields": [
        {
          "name": "testReseau",
          "type": "string",
          "source": "reseau_cloture___rec.test_reseau",
          "nullable": false
        },
        {
          "name": "clotureEnCours",
          "type": "boolean",
          "source": "reseau_cloture___rec.cloture_en_cours",
          "nullable": false
        }
      ]
    }
  ],
  "stateFields": [
    {
      "name": "historiqueAppels",
      "type": "HistoriqueAppel[]",
      "default": "[]"
    },
    {
      "name": "coefficients",
      "type": "CoefTelephone[]",
      "default": "[]"
    },
    {
      "name": "reseauStatus",
      "type": "ReseauCloture | null",
      "default": "null"
    },
    {
      "name": "isLoading",
      "type": "boolean",
      "default": "false"
    },
    {
      "name": "error",
      "type": "string | null",
      "default": "null"
    },
    {
      "name": "selectedAppel",
      "type": "HistoriqueAppel | null",
      "default": "null"
    },
    {
      "name": "filters",
      "type": "{ dateDebut?: Date; dateFin?: Date; numeroTel?: string }",
      "default": "{}"
    }
  ],
  "actions": [
    {
      "name": "chargerHistoriqueAppels",
      "params": [
        "societe: string",
        "compte: number",
        "filiation: number"
      ],
      "businessRules": [
        "Charger l'historique des appels pour un compte donné",
        "Filtrer par date si spécifié dans filters",
        "Trier par date et heure décroissante"
      ],
      "returns": "Promise<void>"
    },
    {
      "name": "recupererCoefficient",
      "params": [
        "qualite: string"
      ],
      "businessRules": [
        "[RM-001] Déterminer qualité GO ou GM selon variable GO",
        "Récupérer le coefficient téléphone correspondant"
      ],
      "returns": "Promise<number>"
    },
    {
      "name": "facturer",
      "params": [
        "appel: HistoriqueAppel"
      ],
      "businessRules": [
        "Vérifier que le réseau n'est pas en cours de clôture",
        "Calculer le montant selon coefficient et durée",
        "Créer une opération de débit (délégué à IDE 16)",
        "Mettre à jour l'historique PABX"
      ],
      "returns": "Promise<void>"
    },
    {
      "name": "debloquerCloture",
      "params": [],
      "businessRules": [
        "Vérifier l'état de clôture (IDE 19)",
        "Débloquer le compte si nécessaire (IDE 17)",
        "Mettre à jour le statut réseau"
      ],
      "returns": "Promise<void>"
    },
    {
      "name": "testerReseau",
      "params": [],
      "businessRules": [
        "Appeler IDE 18 pour tester l'état du réseau",
        "Retourner le statut du réseau"
      ],
      "returns": "Promise<string>"
    },
    {
      "name": "annulerFacturation",
      "params": [
        "appelId: number"
      ],
      "businessRules": [
        "Annuler une facturation existante",
        "Mettre à jour l'historique PABX",
        "Créer une opération inverse"
      ],
      "returns": "Promise<void>"
    }
  ],
  "apiEndpoints": [
    {
      "method": "GET",
      "path": "/api/telephone/historique",
      "queryParams": [
        "societe",
        "compte",
        "filiation",
        "dateDebut?",
        "dateFin?",
        "numeroTel?"
      ],
      "response": "HistoriqueAppel[]"
    },
    {
      "method": "GET",
      "path": "/api/telephone/coefficient/{qualite}",
      "queryParams": [],
      "response": "CoefTelephone"
    },
    {
      "method": "POST",
      "path": "/api/telephone/facturer",
      "queryParams": [],
      "response": "{ success: boolean; montant: number }"
    },
    {
      "method": "POST",
      "path": "/api/telephone/annuler/{appelId}",
      "queryParams": [],
      "response": "{ success: boolean }"
    },
    {
      "method": "GET",
      "path": "/api/reseau/status",
      "queryParams": [],
      "response": "ReseauCloture"
    },
    {
      "method": "POST",
      "path": "/api/reseau/debloquer",
      "queryParams": [],
      "response": "{ success: boolean }"
    }
  ],
  "uiLayout": {
    "type": "modal-dialog",
    "sections": [
      {
        "name": "filters",
        "controls": [
          "DateRangePicker (dateDebut, dateFin)",
          "TextInput (numeroTel)",
          "Button (rechercher)"
        ]
      },
      {
        "name": "historiqueList",
        "controls": [
          "DataGrid (columns: date, heure, numero, durée, montant, gratuit)",
          "SelectionRow (onClick -> selectedAppel)"
        ]
      },
      {
        "name": "actions",
        "controls": [
          "Button (facturer - primary)",
          "Button (annuler - danger)",
          "StatusIndicator (réseau)"
        ]
      },
      {
        "name": "details",
        "controls": [
          "ReadonlyField (société, compte, filiation)",
          "ReadonlyField (nom, prénom)",
          "ReadonlyField (solde compte)",
          "ReadonlyField (coefficient appliqué)"
        ]
      }
    ]
  },
  "mockData": {
    "count": 10,
    "description": "10 appels téléphoniques avec dates variées (7 derniers jours), numéros internationaux/locaux, durées 1-30min, montants 0.50€-25.00€, 2 gratuits avec raison 'Promotion' ou 'Erreur système'"
  },
  "dependencies": {
    "stores": [
      "useSessionStore (societe, compte, filiation)",
      "useParametresStore (testReseau)",
      "useTransactionStore (créer OD via IDE 16)"
    ],
    "sharedTypes": [
      "Devise (from deviseStore)",
      "CompteInfo (from sessionStore)"
    ],
    "externalApis": [
      "POST /api/operations/creer (IDE 16 - Creation O.D)",
      "POST /api/compte/debloquer (IDE 17 - Deblocage compte GM)",
      "GET /api/reseau/test (IDE 18 - Test reseau)",
      "GET /api/cloture/status (IDE 19 - Test si cloture en cours)"
    ]
  }
}

REFERENCE PATTERN (follow this structure):
// Change devises types (IDE 25)

export type ChangeOperationType = 'achat' | 'vente';

export interface Devise {
  code: string;
  libelle: string;
  symbole: string;
  tauxActuel: number;
  nbDecimales: number;
}

export interface DeviseStock {
  deviseCode: string;
  deviseLibelle: string;
  montant: number;
  nbOperations: number;
}

export interface ChangeOperation {
  id: number;
  type: ChangeOperationType;
  deviseCode: string;
  deviseLibelle: string;
  montant: number;
  taux: number;
  contreValeur: number;
  modePaiement: string;
  date: string;
  heure: string;
  operateur: string;
  annule: boolean;
}

export interface ChangeOperationSummary {
  totalAchats: number;
  totalVentes: number;
  nbOperations: number;
}
