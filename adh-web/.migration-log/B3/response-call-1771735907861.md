```typescript
import { describe, it, expect, vi, beforeEach } from 'vitest';
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { BrowserRouter } from 'react-router-dom';

const mockNavigate = vi.fn();
const mockGetMOPInfo = vi.fn();
const mockCheckMOPExists = vi.fn();
const mockGetMOPByCode = vi.fn();
const mockSetSelectedMOP = vi.fn();
const mockReset = vi.fn();

vi.mock('react-router-dom', async () => {
  const actual = await vi.importActual('react-router-dom');
  return {
    ...actual,
    useNavigate: () => mockNavigate,
  };
});

vi.mock('@/stores/moyenPaiementStore', () => ({
  useMoyenPaiementStore: (selector: unknown) => {
    const state = {
      moyensPaiement: [
        {
          code: 'CB',
          libelle: 'Carte bancaire',
          classe: 'UNI' as const,
          typeDevise: 'UNI' as const,
        },
        {
          code: 'ESP',
          libelle: 'Espèces',
          classe: 'UNI' as const,
          typeDevise: 'UNI' as const,
        },
      ],
      selectedMOP: null,
      isLoading: false,
      error: null,
      getMOPInfo: mockGetMOPInfo,
      checkMOPExists: mockCheckMOPExists,
      getMOPByCode: mockGetMOPByCode,
      setSelectedMOP: mockSetSelectedMOP,
      reset: mockReset,
    };
    return typeof selector === 'function' ? selector(state) : state;
  },
}));

vi.mock('@/stores', () => ({
  useAuthStore: (selector: unknown) => {
    const state = {
      user: { prenom: 'Jean', nom: 'Dupont' },
    };
    return typeof selector === 'function' ? selector(state) : state;
  },
}));

import { MoyenPaiementPage } from '@/pages/MoyenPaiementPage';

describe('MoyenPaiementPage', () => {
  beforeEach(() => {
    vi.clearAllMocks();
  });

  const renderPage = () => {
    return render(
      <BrowserRouter>
        <MoyenPaiementPage />
      </BrowserRouter>
    );
  };

  it('should render without crashing', () => {
    renderPage();
    expect(screen.getByText('Moyen de Paiement')).toBeInTheDocument();
  });

  it('should display user name', () => {
    renderPage();
    expect(screen.getByText('Jean Dupont')).toBeInTheDocument();
  });

  it('should display lookup phase with input fields', () => {
    renderPage();
    expect(screen.getByLabelText('Code Moyen de Paiement')).toBeInTheDocument();
    expect(screen.getByLabelText('Type de Devise')).toBeInTheDocument();
  });

  it('should display available payment methods', () => {
    renderPage();
    expect(screen.getByText('CB')).toBeInTheDocument();
    expect(screen.getByText('Carte bancaire')).toBeInTheDocument();
    expect(screen.getByText('ESP')).toBeInTheDocument();
    expect(screen.getByText('Espèces')).toBeInTheDocument();
  });

  it('should update code MOP input on change', () => {
    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement') as HTMLInputElement;
    fireEvent.change(input, { target: { value: 'chq' } });
    expect(input.value).toBe('CHQ');
  });

  it('should update type devise on radio change', () => {
    renderPage();
    const biRadio = screen.getByLabelText('BI (Bi-devise)') as HTMLInputElement;
    fireEvent.click(biRadio);
    expect(biRadio.checked).toBe(true);
  });

  it('should disable buttons when code is empty', () => {
    renderPage();
    const recupererBtn = screen.getByText('Récupérer Info');
    const verifierBtn = screen.getByText('Vérifier Existence');
    const rechercheBtn = screen.getByText('Recherche Complète');

    expect(recupererBtn).toBeDisabled();
    expect(verifierBtn).toBeDisabled();
    expect(rechercheBtn).toBeDisabled();
  });

  it('should enable buttons when code is entered', () => {
    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'CB' } });

    const recupererBtn = screen.getByText('Récupérer Info');
    const verifierBtn = screen.getByText('Vérifier Existence');
    const rechercheBtn = screen.getByText('Recherche Complète');

    expect(recupererBtn).not.toBeDisabled();
    expect(verifierBtn).not.toBeDisabled();
    expect(rechercheBtn).not.toBeDisabled();
  });

  it('should call getMOPInfo on Récupérer Info click', async () => {
    mockGetMOPInfo.mockResolvedValueOnce({
      classe: 'UNI',
      libelle: 'Carte bancaire',
      existe: true,
    });

    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'CB' } });

    const recupererBtn = screen.getByText('Récupérer Info');
    fireEvent.click(recupererBtn);

    await waitFor(() => {
      expect(mockGetMOPInfo).toHaveBeenCalledWith('CB', 'UNI');
    });
  });

  it('should call checkMOPExists on Vérifier Existence click', async () => {
    mockCheckMOPExists.mockResolvedValueOnce(true);

    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'ESP' } });

    const verifierBtn = screen.getByText('Vérifier Existence');
    fireEvent.click(verifierBtn);

    await waitFor(() => {
      expect(mockCheckMOPExists).toHaveBeenCalledWith('ESP', 'ADH');
    });
  });

  it('should call getMOPByCode on Recherche Complète click', async () => {
    mockGetMOPByCode.mockResolvedValueOnce({
      code: 'CHQ',
      libelle: 'Chèque',
      classe: 'CHQ',
      typeDevise: 'UNI',
    });

    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'CHQ' } });

    const rechercheBtn = screen.getByText('Recherche Complète');
    fireEvent.click(rechercheBtn);

    await waitFor(() => {
      expect(mockGetMOPByCode).toHaveBeenCalledWith('CHQ');
    });
  });

  it('should open info dialog after successful lookup', async () => {
    mockGetMOPInfo.mockResolvedValueOnce({
      classe: 'UNI',
      libelle: 'Carte bancaire',
      existe: true,
    });

    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'CB' } });

    const recupererBtn = screen.getByText('Récupérer Info');
    fireEvent.click(recupererBtn);

    await waitFor(() => {
      expect(screen.getByText('Informations Moyen de Paiement')).toBeInTheDocument();
    });
  });

  it('should display found status in dialog', async () => {
    mockGetMOPInfo.mockResolvedValueOnce({
      classe: 'UNI',
      libelle: 'Carte bancaire',
      existe: true,
    });

    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'CB' } });

    const recupererBtn = screen.getByText('Récupérer Info');
    fireEvent.click(recupererBtn);

    await waitFor(() => {
      expect(screen.getByText('Trouvé')).toBeInTheDocument();
    });
  });

  it('should display not found status in dialog', async () => {
    mockCheckMOPExists.mockResolvedValueOnce(false);

    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'XXX' } });

    const verifierBtn = screen.getByText('Vérifier Existence');
    fireEvent.click(verifierBtn);

    await waitFor(() => {
      expect(screen.getByText('Non trouvé')).toBeInTheDocument();
    });
  });

  it('should close dialog on Fermer click', async () => {
    mockGetMOPInfo.mockResolvedValueOnce({
      classe: 'UNI',
      libelle: 'Carte bancaire',
      existe: true,
    });

    renderPage();
    const input = screen.getByLabelText('Code Moyen de Paiement');
    fireEvent.change(input, { target: { value: 'CB' } });

    const recupererBtn = screen.getByText('Récupérer Info');
    fireEvent.click(recupererBtn);

    await waitFor(() => {
      expect(screen.getByText('Informations Moyen de Paiement')).toBeInTheDocument();
    });

    const fermerBtn = screen.getByText('Fermer');
    fireEvent.click(fermerBtn);

    await waitFor(() => {
      expect(screen.queryByText('Informations Moyen de Paiement')).not.toBeInTheDocument();
    });
  });

  it('should navigate to menu on Retour au menu click', () => {
    renderPage();
    const retourBtn = screen.getByText('Retour au menu');
    fireEvent.click(retourBtn);
    expect(mockNavigate).toHaveBeenCalledWith('/caisse/menu');
  });

  it('should select payment method from list', () => {
    renderPage();
    const cbButton = screen.getByText('CB').closest('button');
    fireEvent.click(cbButton!);

    const input = screen.getByLabelText('Code Moyen de Paiement') as HTMLInputElement;
    expect(input.value).toBe('CB');
  });

  it('should call reset on unmount', () => {
    const { unmount } = renderPage();
    unmount();
    expect(mockReset).toHaveBeenCalled();
  });
});
```