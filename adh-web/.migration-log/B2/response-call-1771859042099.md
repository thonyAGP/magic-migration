```json
{
  "programId": 117,
  "programName": "Historique session",
  "coveragePct": 85,
  "rulesImplemented": 17,
  "rulesTotal": 20,
  "missingRules": [
    "Table 693 (devise_in) not referenced in types or store - spec shows 'L' (Link) access",
    "Access rights logic for column visibility (spec mentions 'droits d'accès pour déterminer quelles colonnes afficher')",
    "Integration with ADH IDE 43 for account ID to member name resolution not implemented"
  ],
  "recommendations": [
    "**CRITICAL - Data Model Gap**: Spec indicates 3 tables (249 histo_sessions_caisse_detail, 246 histo_sessions_caisse, 693 devise_in) but only 2 are reflected in the generated types. Table 693 is shown as Link type - verify if currency dropdown should be populated from this table instead of being embedded in session data",
    
    "**Type Alignment**: Contract shows no rules but spec section 10 shows detailed column mappings. Consider adding these as validation rules:\n  - Variable EN (curseur detail): Logical - maps to SessionHistoryItem.hasDetails\n  - Variable ER (Fin Historique): Logical - maps to SessionDetail.isEndOfHistory\n  - Variable EW (Total caisse): Numeric - maps to SessionDetail.totalAmount",
    
    "**Missing Business Logic**: Spec describes 'droits d'accès' (access rights) determining which columns to display (soldes, montants détaillés) based on operator profile. This conditional column visibility is not implemented in OperationsGridPanel or SessionDetailsPanel",
    
    "**External Program Call**: Spec mentions 'Le programme appelle ADH IDE 43 pour résoudre les identifiants de compte en noms d'adhérents'. The operatorId field exists but there's no enrichment logic to resolve IDs to full names. Consider adding:\n  ```typescript\n  interface SessionHistoryItem {\n    operatorId: string;\n    operatorName?: string; // resolved from ADH IDE 43\n  }\n  ```",
    
    "**Currency Handling**: SessionCurrency interface has isLocalCurrency flag but no logic in the UI differentiates local vs foreign currencies. Spec mentions 'Param devise locale' (Variable EO) - this should drive visual distinction or filtering",
    
    "**Date/Time Handling**: Spec shows separate Date and Time types for Validation comptage chrono (Variables ET, EU, EV). Current implementation splits openedDate/openedTime as Date + string - ensure backend API contract matches this split format",
    
    "**Mock Data Quality**: generateMockSessions() creates plausible data but doesn't reflect the table structure from spec:\n  - Missing link to table 693 (devise_in) for currency codes\n  - Missing 'curseur detail' and 'Flag detail' boolean flags from table 249",
    
    "**Error Handling**: Store has error field but no specific error messages for:\n  - Empty history (isEndOfHistory scenario)\n  - Invalid date range filters\n  - Session not found",
    
    "**Performance**: Store loads full sessions array on filter change. For large history datasets, consider:\n  - Pagination (spec shows 'grille de consultation' suggesting tabular view with potential scrolling)\n  - Virtual scrolling in OperationsGridPanel for 1000+ records",
    
    "**UI/UX Gaps**:\n  - No visual indicator for 'Fin Historique' flag (Variable ER) - user should know when they've reached end of available history\n  - Export CSV in OperationsGridPanel exports sessions but not operation details - verify if this matches user expectations\n  - SessionSummaryPanel shows only totalAmount - consider adding breakdown by currency (from SessionCurrency[])",
    
    "**Testing Strategy**: Add tests for:\n  - Filter combinations (date range + status + operator)\n  - Sort order toggle in grid\n  - Session selection and detail loading\n  - CSV export with special characters in operator names",
    
    "**Accessibility**: \n  - FiltersPanel inputs missing aria-labels\n  - OperationsGridPanel table needs proper ARIA table structure\n  - Keyboard navigation for session selection not implemented",
    
    "**Localization**: Hard-coded French labels ('Tous les statuts', 'Ouvertes', 'Fermées') - extract to i18n constants for maintainability"
  ]
}
```